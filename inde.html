<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Juegos Matem√°ticos</title>
  <style>
    body {
      background-color: rgba(24, 13, 27, 0.959);
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    h1, h2 {
      color: #ffcc00;
    }
    .hidden {
      display: none;
    }
    .btn {
      background-color: #6a0dad;
      border: none;
      padding: 10px 20px;
      margin: 10px;
      color: white;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn:hover {
      background-color: #53108a;
    }
    .input-field {
      padding: 8px;
      margin: 5px;
      font-size: 14px;
      border-radius: 5px;
      border: none;
    }
    .question {
      margin: 15px 0;
    }
    #listaResultados {
      text-align: left;
      margin: 20px;
    }
    #resumenPuntos {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
      color: #ffd700;
    }

    /* üìå Cr√©ditos en esquina inferior derecha */
    .creditos {
      position: fixed;
      bottom: 10px;
      right: 15px;
      text-align: right;
      font-size: 14px;
      color: #ffd700;
    }
    .creditos p {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <h1>üéÆ Juegos Matem√°ticos</h1>

  <!-- Cr√©ditos -->
  <div class="creditos">
    <p>10-02</p>
    <p>STARLING PERI√ëAN SILVA: TECNOLOGIA Y ROBOTICA</p>
    <p>FRANCISCO ROJAS RESTREPO: MATEMATICAS</p>
  </div>

  <!-- Registro -->
  <div id="registro">
    <h2>Registro</h2>
    <input type="text" id="nombre" class="input-field" placeholder="Nombre"><br>
    <input type="text" id="curso" class="input-field" placeholder="Curso"><br>
    <button class="btn" onclick="registrarJugador()">Ingresar</button>
  </div>

  <!-- Men√∫ principal -->
  <div id="menu" class="hidden">
    <h2>Bienvenido, elige un juego</h2>
    <button id="btnOperaciones" class="btn" onclick="mostrarJuego('operaciones','operaciones')">‚ûï Operaciones</button>
    <button id="btnTrivia" class="btn" onclick="mostrarJuego('trivia','trivia')">‚ùì Trivia</button>
    <button id="btnLogico" class="btn" onclick="mostrarJuego('logico','logico')">üß† L√≥gico</button>
    <button id="btnGeometria" class="btn" onclick="mostrarJuego('geometria','geometria')">üìê Geometr√≠a</button>
  </div>

  <!-- Operaciones -->
  <div id="operaciones" class="hidden game-screen">
    <h2>Reto de Operaciones</h2>
    <div class="question">15 + 27 = <input type="number" id="op0" class="input-field"></div>
    <div class="question">45 - 19 = <input type="number" id="op1" class="input-field"></div>
    <div class="question">12 √ó 8 = <input type="number" id="op2" class="input-field"></div>
    <div class="question">144 √∑ 12 = <input type="number" id="op3" class="input-field"></div>
    <button class="btn" onclick="verificarOperaciones()">Finalizar</button>
  </div>

  <!-- Trivia -->
  <div id="trivia" class="hidden game-screen">
    <h2>Trivia Matem√°tica</h2>
    <div class="question">
      1. ¬øCu√°l es el siguiente n√∫mero primo despu√©s de 23?<br>
      <input type="radio" name="tr0" value="0"> 25
      <input type="radio" name="tr0" value="1"> 27
      <input type="radio" name="tr0" value="2"> 29
      <input type="radio" name="tr0" value="3"> 31
    </div>
    <div class="question">
      2. La ra√≠z c√∫bica de 64 es:<br>
      <input type="radio" name="tr1" value="0"> 2
      <input type="radio" name="tr1" value="1"> 3
      <input type="radio" name="tr1" value="2"> 4
      <input type="radio" name="tr1" value="3"> 5
    </div>
    <div class="question">
      3. ¬øCu√°l es el valor de 3¬≤ + 4¬≤?<br>
      <input type="radio" name="tr2" value="0"> 12
      <input type="radio" name="tr2" value="1"> 25
      <input type="radio" name="tr2" value="2"> 20
      <input type="radio" name="tr2" value="3"> 30
    </div>
    <button class="btn" onclick="finalizarTrivia()">Finalizar</button>
  </div>

  <!-- L√≥gico -->
  <div id="logico" class="hidden game-screen">
    <h2>Desaf√≠o L√≥gico</h2>
    <div class="question">Si una docena son 12 y compras 2 docenas de huevos, ¬øcu√°ntos huevos tienes?
      <input type="text" id="log0" class="input-field">
    </div>
    <div class="question">Soy el doble de 15, ¬øqui√©n soy?
      <input type="text" id="log1" class="input-field">
    </div>
    <button class="btn" onclick="finalizarLogico()">Finalizar</button>
  </div>

  <!-- Geometr√≠a -->
  <div id="geometria" class="hidden game-screen">
    <h2>Geometr√≠a Expr√©s</h2>
    <div class="question">
      1. El per√≠metro de un tri√°ngulo equil√°tero de lado 9 es:<br>
      <input type="radio" name="geo0" value="0"> 18
      <input type="radio" name="geo0" value="1"> 27
      <input type="radio" name="geo0" value="2"> 36
      <input type="radio" name="geo0" value="3"> 81
    </div>
    <div class="question">
      2. El √°rea de un rect√°ngulo de base 12 y altura 7 es:<br>
      <input type="radio" name="geo1" value="0"> 72
      <input type="radio" name="geo1" value="1"> 84
      <input type="radio" name="geo1" value="2"> 90
      <input type="radio" name="geo1" value="3"> 96
    </div>
    <button class="btn" onclick="finalizarGeometria()">Finalizar</button>
  </div>

  <!-- Resultados -->
  <div id="resultados" class="hidden">
    <h2>Resultados</h2>
    <p id="resultadoFinal"></p>
    <div id="listaResultados"></div>
    <div id="resumenPuntos"></div>
    <button class="btn" onclick="volverMenu()">Volver al men√∫</button>
  </div>

  <script>
    let nombre = "";
    let curso = "";
    let puntaje = 0;
    let totalPuntos = 0;
    let jugadores = [];

    let juegosJugados = {operaciones: false, trivia: false, logico: false, geometria: false};

    function registrarJugador() {
      nombre = document.getElementById("nombre").value;
      curso = document.getElementById("curso").value;
      if (nombre && curso) {
        document.getElementById("registro").style.display = "none";
        document.getElementById("menu").style.display = "block";
      } else {
        alert("Por favor ingresa nombre y curso.");
      }
    }

    function mostrarJuego(id, tipo) {
      if (juegosJugados[tipo]) {
        alert("‚ö†Ô∏è Ya jugaste este reto. Solo puedes jugar una vez por sesi√≥n.");
        return;
      }
      document.getElementById("menu").style.display = "none";
      document.querySelectorAll(".game-screen").forEach(div => div.style.display = "none");
      document.getElementById(id).style.display = "block";
    }

    // ===== OPERACIONES =====
    const respuestas = [42, 26, 96, 12];
    function verificarOperaciones() {
      let correctas = 0;
      for (let i = 0; i < respuestas.length; i++) {
        let val = parseInt(document.getElementById(`op${i}`).value);
        if (val === respuestas[i]) correctas++;
      }
      puntaje = (correctas === respuestas.length) ? 25 : 0;
      juegosJugados.operaciones = true;
      document.getElementById("btnOperaciones").disabled = true;
      mostrarResultados("Reto de Operaciones", correctas, respuestas.length);
    }

    // ===== TRIVIA =====
    const trivia = [
      {preg:"¬øSiguiente n√∫mero primo despu√©s de 23?",op:["25","27","29","31"],correcta:2},
      {preg:"Ra√≠z c√∫bica de 64",op:["2","3","4","5"],correcta:2},
      {preg:"Valor de 3¬≤ + 4¬≤",op:["12","25","20","30"],correcta:1}
    ];
    function finalizarTrivia() {
      let correctas = 0;
      trivia.forEach((q, i) => {
        let sel = document.querySelector(`input[name="tr${i}"]:checked`);
        if (sel && parseInt(sel.value) === q.correcta) correctas++;
      });
      puntaje = (correctas === trivia.length) ? 25 : 0;
      juegosJugados.trivia = true;
      document.getElementById("btnTrivia").disabled = true;
      mostrarResultados("Trivia Matem√°tica", correctas, trivia.length);
    }

    // ===== L√ìGICO =====
    const logicos = [
      {preg:"Si una docena son 12 y compras 2 docenas de huevos, ¬øcu√°ntos huevos tienes?",respuesta:"24"},
      {preg:"Soy el doble de 15, ¬øqui√©n soy?",respuesta:"30"}
    ];
    function finalizarLogico() {
      let correctas = 0;
      logicos.forEach((q, i) => {
        let val = document.getElementById(`log${i}`).value.toLowerCase().trim();
        if (val === q.respuesta) correctas++;
      });
      puntaje = (correctas === logicos.length) ? 25 : 0;
      juegosJugados.logico = true;
      document.getElementById("btnLogico").disabled = true;
      mostrarResultados("Desaf√≠o L√≥gico", correctas, logicos.length);
    }

    // ===== GEOMETR√çA =====
    const geometria = [
      {preg:"Per√≠metro tri√°ngulo equil√°tero lado 9",op:["18","27","36","81"],correcta:1},
      {preg:"√Årea rect√°ngulo base 12 y altura 7",op:["72","84","90","96"],correcta:1}
    ];
    function finalizarGeometria() {
      let correctas = 0;
      geometria.forEach((q, i) => {
        let sel = document.querySelector(`input[name="geo${i}"]:checked`);
        if (sel && parseInt(sel.value) === q.correcta) correctas++;
      });
      puntaje = (correctas === geometria.length) ? 25 : 0;
      juegosJugados.geometria = true;
      document.getElementById("btnGeometria").disabled = true;
      mostrarResultados("Geometr√≠a Expr√©s", correctas, geometria.length);
    }

    // ===== RESULTADOS =====
    function mostrarResultados(juego, correctas, total) {
      document.querySelectorAll(".game-screen").forEach(div => div.style.display = "none");
      document.getElementById("resultados").style.display = "block";

      let msg = (puntaje === 25)
                  ? "¬°Perfecto! Ganaste los 25 puntos."
                  : "Debes contestar todo bien para conseguir los 25 puntos.";

      totalPuntos += puntaje;

      document.getElementById("resultadoFinal").innerText =
        `${nombre} (${curso})\nJuego: ${juego}\nRespuestas correctas: ${correctas}/${total}\nPuntos obtenidos: ${puntaje}\n${msg}\n\nüéØ Puntaje acumulado: ${totalPuntos}/100`;

      jugadores.push({nombre, curso, juego, correctas, total, puntaje, totalPuntos});
      mostrarHistorial();
    }

    function mostrarHistorial() {
      let html = "<h3>Historial de jugadores:</h3><ul>";
      jugadores.forEach(j => {
        html += `<li>${j.nombre} (${j.curso}) - ${j.juego}: ${j.correctas}/${j.total} ‚Üí ${j.puntaje} puntos</li>`;
      });
      html += "</ul>";
      document.getElementById("listaResultados").innerHTML = html;

      document.getElementById("resumenPuntos").innerText =
        `üéØ Puntaje acumulado actual: ${totalPuntos}/100`;
    }

    function volverMenu() {
      document.getElementById("resultados").style.display = "none";
      document.getElementById("menu").style.display = "block";
    }
  </script>
</body>
</html>
